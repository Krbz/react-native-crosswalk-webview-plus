apply plugin: 'com.android.library'

android {
    compileSdkVersion 27
    buildToolsVersion "27.0.3"

    defaultConfig {
        minSdkVersion 16
        targetSdkVersion 23
        versionCode 6
        versionName "1.5.1"
    }
}

repositories {
    mavenLocal()
    jcenter()

    flatDir {
        dirs 'libs'
    }
}

def safeExtGet(prop, fallback) {
    rootProject.ext.has(prop) ? rootProject.ext.get(prop) : fallback
}

dependencies {
    implementation "com.facebook.react:react-native:+"
    if (safeExtGet('enable64Arch', true)) {
      // v8a
      logger.warn('xWalk arch v8a')
      implementation (name: "xwalk_core_library-23.53.589.4-64bit", ext: "aar")
    } else {
      // v7a
      logger.warn('xWalk arch v7a')
      implementation (name: "xwalk_core_library-23.53.589.4", ext: "aar")
    }
}
